<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Post's machine</title>
</head>

<body>
    <div th:if="${message}">
        <h2 th:text="${message}" />
    </div>
    <div th:if="${id}">
        <a th:href="@{/machines/{id}(id = ${id})}">Open it</a>
    </div>

    <h1>Design a machine</h1>
    <form method="POST" th:object="${design}" enctype="multipart/form-data">
        <table>
            <tr>
                <td>
                    Enter the name:
                </td>
                <td>
                    <input type="text" th:field="*{name}" />
                </td>
                <td th:if="${#fields.hasErrors('name')}" th:errors="*{name}">name error</td>
            </tr>
            <tr>
                <td>
                    Choose your file:
                </td>
                <td>
                    <input type="file" th:field="*{commandFile}" />
                </td>
                <td th:if="${#fields.hasErrors('commandFile')}" th:errors="*{commandFile}">file error</td>
            </tr>
            <tr>
                <td>
                    Enter the tape values with 0s and 1s:
                </td>
                <td>
                    <input type="text" th:field="*{tapeString}" />
                </td>
                <td th:if="${#fields.hasErrors('tapeString')}" th:errors="*{tapeString}">tape error</td>
            </tr>
            <tr>
                <td></td>
                <td><input type="submit" value="Submit" /></td>
            </tr>
        </table>
    </form>
    <p>To see your machines, click <a href="/machines">here</a>.</p>
</body>

</html>